# 用户脚本示例

## 方案 1：直接使用分支名（最简单，推荐）

### Stable 版本（稳定版）

```json
{
  "type": "script",
  "name": "【骰子系统】-稳定版",
  "content": "import('https://testingcf.jsdelivr.net/gh/jerryzmtz/my-tavern-scripts@main/dist/骰子系统/stable.js');"
}
```

### Nightly 版本（开发版）

```json
{
  "type": "script",
  "name": "【骰子系统】-开发版",
  "content": "import('https://testingcf.jsdelivr.net/gh/jerryzmtz/my-tavern-scripts@nightly/dist/骰子系统/nightly.js');"
}
```

**优点**：
- 最简单，直接使用分支名
- 总是获取最新版本
- 无需额外 API 调用

**缺点**：
- jsDelivr 缓存 7 天，更新后可能需要等待

## 方案 2：使用版本号 tag（缓存更快）

### Stable 版本（自动获取最新 tag）

```json
{
  "type": "script",
  "name": "【骰子系统】-自动更新稳定版",
  "content": "async function getLatestVersion() {\n  try {\n    const response = await fetch('https://api.github.com/repos/jerryzmtz/my-tavern-scripts/tags');\n    const tags = await response.json();\n    return tags[0]?.name || 'main';\n  } catch {\n    return 'main';\n  }\n}\n\nconst version = await getLatestVersion();\nimport(`https://testingcf.jsdelivr.net/gh/jerryzmtz/my-tavern-scripts@${version}/dist/骰子系统/stable.js`);"
}
```

**优点**：
- jsDelivr 缓存 12 小时，更新更快
- 自动获取最新版本号

**缺点**：
- 需要额外的 API 调用
- 稍微复杂一些

## 方案 3：固定版本号（最稳定）

### 使用特定版本

```json
{
  "type": "script",
  "name": "【骰子系统】-v0.0.10",
  "content": "import('https://testingcf.jsdelivr.net/gh/jerryzmtz/my-tavern-scripts@v0.0.10/dist/骰子系统/stable.js');"
}
```

**优点**：
- 最稳定，不会自动更新
- 适合需要固定版本的用户

**缺点**：
- 需要手动更新版本号

## 推荐方案

- **普通用户**：使用方案 1（直接使用 `@main`）
- **需要更快更新的用户**：使用方案 2（自动获取最新 tag）
- **需要固定版本的用户**：使用方案 3（固定版本号）
- **尝鲜用户**：使用方案 1 的 nightly 版本

## 注意事项

1. **缓存时间**：
   - 使用分支名（`@main` 或 `@nightly`）：7 天缓存
   - 使用版本号 tag（`@v0.0.10`）：12 小时缓存

2. **更新频率**：
   - `@main`：只在发布稳定版时更新
   - `@nightly`：开发过程中频繁更新

3. **稳定性**：
   - `stable.js`：经过测试的稳定版本
   - `nightly.js`：最新开发版本，可能包含未测试的功能
